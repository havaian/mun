/* Import Inter font */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    html {
        font-family: 'Inter', system-ui, sans-serif;
        scroll-behavior: smooth;
    }

    body {
        @apply bg-gradient-mun text-mun-gray-900 antialiased;
        line-height: 1.6;
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        @apply bg-mun-gray-100;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-mun-gray-300 rounded-full;
    }

    ::-webkit-scrollbar-thumb:hover {
        @apply bg-mun-gray-400;
    }

    /* Focus styles */
    *:focus {
        outline: none;
    }

    *:focus-visible {
        @apply ring-2 ring-mun-blue ring-opacity-50 ring-offset-2;
    }
}

@layer components {

    /* Glass card component */
    .glass-card {
        @apply bg-white/50 backdrop-blur-sm border border-white/20 shadow-glass;
    }

    /* Animated gradient background */
    .gradient-bg {
        background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        background-size: 400% 400%;
        animation: gradientShift 15s ease infinite;
    }

    @keyframes gradientShift {
        0% {
            background-position: 0% 50%;
        }

        50% {
            background-position: 100% 50%;
        }

        100% {
            background-position: 0% 50%;
        }
    }

    /* UN Blue gradient button */
    .btn-un-primary {
        @apply bg-mun-blue hover:bg-mun-blue-600 text-white font-medium px-6 py-3 rounded-xl;
        @apply transition-all duration-200 transform hover:shadow-mun-lg;
        @apply focus:ring-2 focus:ring-mun-blue focus:ring-opacity-50 focus:ring-offset-2;
    }

    .btn-un-primary:disabled {
        @apply opacity-50 cursor-not-allowed transform-none;
    }

    /* Secondary button */
    .btn-un-secondary {
        @apply bg-white hover:bg-mun-gray-50 text-mun-blue border border-mun-blue/20;
        @apply font-medium px-6 py-3 rounded-xl transition-all duration-200;
        @apply hover:border-mun-blue/40 hover:shadow-mun;
        @apply focus:ring-2 focus:ring-mun-blue focus:ring-opacity-50 focus:ring-offset-2;
    }

    /* Input field styles */
    .input-field {
        @apply w-full px-4 py-3 rounded-xl border border-mun-gray-200;
        @apply bg-white/80 backdrop-blur-sm placeholder-mun-gray-400;
        @apply transition-all duration-200 focus:border-mun-blue focus:ring-1 focus:ring-mun-blue;
        @apply hover:border-mun-gray-300;
    }

    /* Card component */
    .mun-card {
        @apply bg-white rounded-xl shadow-sm border border-mun-gray-200 p-6 hover:shadow-md transition-shadow;
    }

    /* Status badges */
    .badge-success {
        @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
        @apply bg-mun-green-50 text-mun-green-700 border border-mun-green-200;
    }

    .badge-warning {
        @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
        @apply bg-mun-yellow-50 text-mun-yellow-700 border border-mun-yellow-200;
    }

    .badge-error {
        @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
        @apply bg-mun-red-50 text-mun-red-700 border border-mun-red-200;
    }

    .badge-info {
        @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
        @apply bg-mun-blue-50 text-mun-blue-700 border border-mun-blue-200;
    }

    /* Navigation styles */
    .nav-link {
        @apply flex items-center px-4 py-3 text-mun-gray-700 rounded-xl;
        @apply transition-all duration-200 hover:bg-white/60 hover:text-mun-blue;
        @apply relative;
    }

    .nav-link.active {
        @apply bg-mun-blue text-white shadow-mun;
    }

    /* Loading states */
    .loading-shimmer {
        @apply animate-pulse bg-gradient-to-r from-mun-gray-200 via-mun-gray-100 to-mun-gray-200;
        background-size: 200% 100%;
        animation: shimmer 1.5s infinite;
    }

    @keyframes shimmer {
        0% {
            background-position: -200% 0;
        }

        100% {
            background-position: 200% 0;
        }
    }

    /* QR Scanner styles */
    .qr-scanner {
        @apply relative overflow-hidden rounded-2xl;
    }

    .qr-scanner::before {
        content: '';
        @apply absolute inset-0 border-2 border-mun-blue rounded-2xl;
        animation: qrScannerPulse 2s infinite;
    }

    @keyframes qrScannerPulse {

        0%,
        100% {
            opacity: 1;
        }

        50% {
            opacity: 0.3;
        }
    }

    /* Country flag styles */
    .country-flag {
        @apply w-8 h-6 rounded-sm object-cover border border-mun-gray-200;
        @apply shadow-sm transition-transform hover:scale-110;
    }

    /* Voting result display */
    .voting-bar {
        @apply h-2 rounded-full overflow-hidden bg-mun-gray-100;
    }

    .voting-bar-fill {
        @apply h-full transition-all duration-500 ease-out;
    }

    .vote-for {
        @apply bg-mun-green;
    }

    .vote-against {
        @apply bg-mun-red;
    }

    .vote-abstain {
        @apply bg-mun-yellow;
    }

    /* Document preview */
    .document-preview {
        @apply max-h-96 overflow-y-auto border border-mun-gray-200 rounded-xl p-4;
        @apply bg-white/90 backdrop-blur-sm;
    }

    /* Committee type indicators */
    .committee-ga {
        @apply bg-blue-500;
    }

    .committee-sc {
        @apply bg-red-500;
    }

    .committee-other {
        @apply bg-mun-gray-500;
    }
}

@layer utilities {

    /* Text utilities */
    .text-balance {
        text-wrap: balance;
    }

    /* Scrollbar utilities */
    .scrollbar-thin {
        scrollbar-width: thin;
    }

    .scrollbar-none {
        scrollbar-width: none;
        -ms-overflow-style: none;
    }

    .scrollbar-none::-webkit-scrollbar {
        display: none;
    }

    /* Animation utilities */
    .animate-fade-in-up {
        animation: fadeInUp 0.5s ease-out;
    }

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Print utilities */
    @media print {
        .print-hidden {
            display: none !important;
        }

        .print-page-break {
            page-break-before: always;
        }
    }
}

/* Improved Base input styling using @apply */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"],
input[type="tel"],
input[type="url"],
input[type="search"],
input[type="date"],
input[type="time"],
input[type="datetime-local"],
input[type="month"],
input[type="week"],
textarea,
select {
    @apply appearance-none w-full px-4 py-2.5 border border-gray-300 rounded-lg;
    @apply bg-white text-gray-900 text-sm leading-5;
    @apply transition-all duration-200 ease-in-out outline-none;
}

/* Focus states */
input[type="text"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
input[type="number"]:focus,
input[type="tel"]:focus,
input[type="url"]:focus,
input[type="search"]:focus,
input[type="date"]:focus,
input[type="time"]:focus,
input[type="datetime-local"]:focus,
input[type="month"]:focus,
input[type="week"]:focus,
textarea:focus,
select:focus {
    @apply border-mun-blue ring-2 ring-mun-blue/20 shadow-sm;
}

/* Hover states */
input[type="text"]:hover:not(:disabled):not(:focus),
input[type="email"]:hover:not(:disabled):not(:focus),
input[type="password"]:hover:not(:disabled):not(:focus),
input[type="number"]:hover:not(:disabled):not(:focus),
input[type="tel"]:hover:not(:disabled):not(:focus),
input[type="url"]:hover:not(:disabled):not(:focus),
input[type="search"]:hover:not(:disabled):not(:focus),
input[type="date"]:hover:not(:disabled):not(:focus),
input[type="time"]:hover:not(:disabled):not(:focus),
input[type="datetime-local"]:hover:not(:disabled):not(:focus),
input[type="month"]:hover:not(:disabled):not(:focus),
input[type="week"]:hover:not(:disabled):not(:focus),
textarea:hover:not(:disabled):not(:focus),
select:hover:not(:disabled):not(:focus) {
    @apply border-gray-400;
}

/* Disabled states */
input:disabled,
textarea:disabled,
select:disabled {
    @apply bg-gray-50 border-gray-200 text-gray-500 cursor-not-allowed opacity-60;
}

/* Readonly states */
input:read-only,
textarea:read-only {
    @apply bg-gray-50 border-gray-200 cursor-default;
}

/* Placeholder styling */
input::placeholder,
textarea::placeholder {
    @apply text-gray-400 opacity-100;
}

/* Error states */
input.error,
textarea.error,
select.error,
input[aria-invalid="true"],
textarea[aria-invalid="true"],
select[aria-invalid="true"] {
    @apply border-red-500 bg-red-50 text-red-900;
}

input.error:focus,
textarea.error:focus,
select.error:focus,
input[aria-invalid="true"]:focus,
textarea[aria-invalid="true"]:focus,
select[aria-invalid="true"]:focus {
    @apply border-red-500 ring-2 ring-red-500/20;
}

/* Success states */
input.success,
textarea.success,
select.success {
    @apply border-green-500 bg-green-50;
}

input.success:focus,
textarea.success:focus,
select.success:focus {
    @apply border-green-500 ring-2 ring-green-500/20;
}

/* Size variants */
input.input-sm,
textarea.input-sm,
select.input-sm {
    @apply py-2 px-3 text-sm;
}

input.input-lg,
textarea.input-lg,
select.input-lg {
    @apply py-3 px-4 text-base;
}

/* Textarea specific */
textarea {
    @apply resize-y min-h-10;
}

/* Select specific */
select {
    @apply pr-10 bg-no-repeat;
    background-image: url("data:image/svg+xml;charset=utf-8,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.5rem center;
    background-size: 1.5em 1.5em;
}

select:focus {
    background-image: url("data:image/svg+xml;charset=utf-8,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%233b82f6' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
}

/* Number input arrows */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

input[type="number"] {
    -moz-appearance: textfield;
}

/* Date input calendar icon */
input[type="date"]::-webkit-calendar-picker-indicator,
input[type="time"]::-webkit-calendar-picker-indicator,
input[type="datetime-local"]::-webkit-calendar-picker-indicator {
    cursor: pointer;
    filter: invert(0.6);
    transition: filter 0.2s;
}

input[type="date"]:hover::-webkit-calendar-picker-indicator,
input[type="time"]:hover::-webkit-calendar-picker-indicator,
input[type="datetime-local"]:hover::-webkit-calendar-picker-indicator {
    filter: invert(0.4);
}

/* Search input clear button */
input[type="search"]::-webkit-search-cancel-button {
    -webkit-appearance: none;
}

/* File input styling */
input[type="file"] {
    @apply p-2 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 cursor-pointer;
}

input[type="file"]:hover {
    @apply border-gray-400 bg-gray-100;
}

input[type="file"]:focus {
    @apply border-mun-blue bg-blue-50;
}

/* Checkbox and radio styling */
input[type="checkbox"],
input[type="radio"] {
    @apply w-4 h-4 text-mun-blue border border-gray-300 rounded bg-white cursor-pointer;
}

input[type="radio"] {
    @apply rounded-full;
}

input[type="checkbox"]:checked,
input[type="radio"]:checked {
    @apply bg-mun-blue border-mun-blue;
}

input[type="checkbox"]:focus,
input[type="radio"]:focus {
    @apply ring-2 ring-mun-blue/20 outline-none;
}

/* High contrast mode */
@media (prefers-contrast: high) {

    input,
    textarea,
    select {
        @apply border-2;
    }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {

    input,
    textarea,
    select {
        @apply transition-none;
    }
}

/* Utility classes for special cases */
.input-unstyled {
    /* Reset to browser defaults */
    all: revert;
    appearance: revert;
    -webkit-appearance: revert;
    -moz-appearance: revert;
}